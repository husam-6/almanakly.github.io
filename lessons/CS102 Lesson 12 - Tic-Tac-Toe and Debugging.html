
<html>
<head>
  <meta charset="utf-8">
  <title>Lesson 12 - Tic-Tac-Toe and Debugging</title>
	<link rel="stylesheet" href="../assets/css/slides.css">
  <script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
  <style>
    /* Make code blocks scrollable with always-visible scrollbar */
    .remark-slide-content pre {
      max-height: 400px;
      overflow-y: scroll !important;
      position: relative;
      padding-right: 50px; /* Make room for copy button */
    }

    /* Force scrollbar to always show */
    .remark-slide-content pre::-webkit-scrollbar {
      width: 12px;
      -webkit-appearance: none;
    }

    .remark-slide-content pre::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 10px;
    }

    .remark-slide-content pre::-webkit-scrollbar-thumb {
      background: #888;
      border-radius: 10px;
    }

    .remark-slide-content pre::-webkit-scrollbar-thumb:hover {
      background: #555;
    }

    /* Copy button styling */
    .copy-button {
      position: absolute;
      top: 8px;
      right: 20px;
      padding: 8px;
      background: rgba(255, 255, 255, 0.9);
      color: #333;
      border: 1px solid #ddd;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      z-index: 100;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      transition: all 0.2s;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .copy-button:hover {
      background: rgba(255, 255, 255, 1);
      border-color: #999;
    }

    .copy-button.copied {
      background: #4CAF50;
      color: white;
      border-color: #4CAF50;
    }

    /* Container for code blocks needs relative positioning */
    .remark-slide-content {
      position: relative;
    }
  </style>

</head>
<body>

<textarea id="source">

---

## Tic Tac Toe 

- We outline the sample game as a good example for your final projects 
- This is taken from the textbook, and may serve as a good example 

---

### Tic Tac Toe 

```
# Tic-Tac-Toe
# Plays the game of tic-tac-toe against a human opponent
# global constants
X = "X"
O = "O"
EMPTY = " "
TIE = "TIE"
NUM_SQUARES = 9
```

---

## Tic Tac Toe 

```
def display_instruct():
	"""Display game instructions."""
	print(
		"""
		Welcome to the greatest intellectual challenge of all time: Tic-Tac-Toe.
		This will be a showdown between your human brain and my silicon processor.
		You will make your move known by entering a number, 0 - 8. The number
		will correspond to the board position as illustrated:
				0 | 1 | 2
				---------
				3 | 4 | 5
				---------
				6 | 7 | 8
		Python Programming for the Absolute Beginner, Third Edition178
		Prepare yourself, human. The ultimate battle is about to begin. \n
		"""
	)
```

---

## Tic Tac Toe 

``` 
# similar to our blackjack example
def ask_yes_no(question):
	"""Ask a yes or no question."""
	response = None
	while response not in ("y", "n"):
		response = input(question).lower()
	return response
```

---

## Tic Tac Toe 

```
def ask_number(question, low, high):
	"""Ask for a number within a range."""
	response = None
	while response not in range(low, high):
		response = int(input(question))
	return response
```


---

## Tic Tac Toe 

```
def pieces():
	"""Determine if player or computer goes first."""
	go_first = ask_yes_no("Do you require the first move? (y/n): ")
	if go_first == "y":
		print("\nThen take the first move. You will need it.")
		human = X
		computer = O
	else:
		print("\nYour bravery will be your undoing... I will go first.")
		computer = X
		human = O
	return computer, human
```

---

## Tic Tac Toe 

```
def new_board():
	"""Create new game board."""
	board = []
	for square in range(NUM_SQUARES):
		board.append(EMPTY)
	return board
```

---

## Tic Tac Toe 

```
def display_board(board):
	"""Display game board on screen."""
	print("\n\t", board[0], "|", board[1], "|", board[2])
	print("\t", "---------")
	print("\t", board[3], "|", board[4], "|", board[5])
	print("\t", "---------")
	print("\t", board[6], "|", board[7], "|", board[8], "\n")
```

---

## Tic Tac Toe 

```
def legal_moves(board):
	"""Create list of legal moves."""
	moves = []
	for square in range(NUM_SQUARES):
		if board[square] == EMPTY:
			moves.append(square)
	return moves
```

---

## Tic Tac Toe 

```
def winner(board):
	"""Determine the game winner."""
	WAYS_TO_WIN = ((0, 1, 2),
				   (3, 4, 5),
				   (6, 7, 8),
				   (0, 3, 6),
				   (1, 4, 7),
				   (2, 5, 8),
				   (0, 4, 8),
				   (2, 4, 6))
	for row in WAYS_TO_WIN:
		if board[row[0]] == board[row[1]] == board[row[2]] != EMPTY:
			winner = board[row[0]]
			return winner
	if EMPTY not in board:
		return TIE
		
	return None
```

---

## Tic Tac Toe 

```
def human_move(board, human):
	"""Get human move."""
	legal = legal_moves(board)
	move = None
	while move not in legal:
		move = ask_number("Where will you move? (0 - 8):", 0, NUM_SQUARES)
		if move not in legal:
			print("\nThat square is already occupied, foolish human. Choose another.\n")
	print("Fine...")
	return move
```

---

## Tic Tac Toe 

```
def computer_move(board, computer, human):
	"""Make computer move."""
	# make a copy to work with since function will be changing list
	board = board[:]
	
	# the best positions to have, in order
	BEST_MOVES = (4, 0, 2, 6, 8, 1, 3, 5, 7)
	
	# if computer can win, take that move
	for move in legal_moves(board):
		board[move] = computer
		if winner(board) == computer:
			print(move)
			return move
		# done checking this move, undo it
		board[move] = EMPTY
		
	# if human can win, block that move
	for move in legal_moves(board):
		board[move] = human
		if winner(board) == human:
			print(move)
			return move
		# done checking this move, undo it
		board[move] = EMPTY
	
	# since no one can win on next move, pick best open square
	for move in BEST_MOVES:
		if move in legal_moves(board):
			print(move)
			return move

```


---

## Tic Tac Toe 

```
def next_turn(turn):
	"""Switch turns."""
	if turn == X:
		return O
	else:
		return X
```


---

## Tic Tac Toe 

```
def congrat_winner(the_winner, computer, human):
	"""Congratulate the winner."""
	if the_winner != TIE:
		print(the_winner, "won!\n")
	else:
		print("It's a tie!\n")
	
	if the_winner == computer:
		print("As I predicted, human, I am triumphant once more. \n" \
			  "Proof that computers are superior to humans in all regards.")
	elif the_winner == human:
		print("No, no! It cannot be! Somehow you tricked me, human. \n" \
			  "But never again! I, the computer, so swear it!")
	elif the_winner == TIE:
		print("You were most lucky, human, and somehow managed to tie me. \n" \
			  "Celebrate today... for this is the best you will ever achieve.")
```

---

## Tic Tac Toe 

```
def main():
	display_instruct()
	computer, human = pieces()
	turn = X
	board = new_board()
	display_board(board)
	while not winner(board):
		if turn == human:
			move = human_move(board, human)
			board[move] = human
		else:
			move = computer_move(board, computer, human)
			board[move] = computer
		display_board(board)
		turn = next_turn(turn)
	the_winner = winner(board)
	congrat_winner(the_winner, computer, human)
```

---

## Debuggers 

- Something we haven't talked about is using a debugger 
- This is one of the most valuable and useful tools you can use when you are programming
- Its a program which will let you stop your code at certain points, check your variables, step through line by line 
- Way better than printing stuff and running via trial and error 

---

## Debuggers - C

- Debugging in C is a bit tricky - theres a program called `gdb` you can use 
- There are also ways you can hook up an IDE or an editor like VSCode to your debugger 
- We will demo a bit in gdb 

---

## Debuggers - C

```
#include<stdio.h>

int main() {
    int x;
    int a = x;
    int b = x;
    int c = a + b;
    printf("%d\n", c);
    return 0;
}
```

---

## Debuggers - C 

ref: https://www.geeksforgeeks.org/c/gdb-step-by-step-introduction/

```
gcc -std=c99 -g -o test test.c \
gdb ./test
```

> Now compile the code. (here test.c). ****g flag**** means you can see the proper names of variables and functions in your stack frames, get line numbers and see the source as you step around in the executable. 


---

## Debuggers - C

| Command    | Description                                                   |
| ---------- | ------------------------------------------------------------- |
| run or r   | Executes the program from start to end.                       |
| break or b | Sets a breakpoint on a particular line.                       |
| disable    | Disables a breakpoint.                                        |
| enable     | Enables a disabled breakpoint.                                |
| next or n  | Executes the next line of code without diving into functions. |
| step       | Goes to the next instruction, diving into the function.       |
| list or l  | Displays the code.                                            |

---

## Debuggers - C

| Command                | Description                       |
| ---------------------- | --------------------------------- |
| print or p             | Displays the value of a variable. |
| quit or q              | Exits out of GDB.                 |
| clear                  | Clears all breakpoints.           |
| continue               | Continues normal execution.       |
| fr v                   | list variables in frame           |
| breakpoint set -n main | set a breakpoint at main!         |
| f                      | show frame info                   |

---

## Debuggers - C

```
#include <stdio.h>
#include <string.h>

int factorial(int n) {
    if (n <= 1) {
        return 1;
    }
    return n * factorial(n - 1);
}

void pointer_demo() {
    int x = 42;
    int y = 100;
    int *ptr = &x;

    printf("x = %d, y = %d\n", x, y);
    printf("ptr points to: %d\n", *ptr);

    ptr = &y;
    printf("Now ptr points to: %d\n", *ptr);
}

int main() {
    printf("=== LLDB Demo Program ===\n\n");
    printf("Factorial Demo:\n");
    int result = factorial(5);
    printf("Factorial of 5 is: %d\n\n", result);

    printf("Pointer Demo:\n");
    pointer_demo();
    printf("\n");

    return 0;
}
```


---

## Debugging - Python

- There is a similar tool called `pdb`
- Rather than show you much of the same, I'd like to show you what you can do in some editors and IDEs like VSCode or PyCharm 

---

## Debuggers - Python

```
def factorial(n):
    """Calculate factorial recursively"""
    if n <= 1:
        return 1
    return n * factorial(n - 1)


def list_demo():
    """Demonstrate list operations"""
    numbers = [10, 20, 30, 40, 50]
    total = 0

    print("List contents:")
    for i, num in enumerate(numbers):
        print(f"numbers[{i}] = {num}")
        total += num

    print(f"Sum = {total}")
    return total


def dict_demo():
    """Demonstrate dictionary operations"""
    student = {
        "name": "Alice",
        "age": 20,
        "major": "Computer Science",
        "gpa": 3.8
    }

    print(f"Student: {student['name']}")
    print(f"Major: {student['major']}")
    print(f"GPA: {student['gpa']}")

    return student



def main():
    print("=== Python Debugger (pdb) Demo ===\n")

    print("Factorial Demo:")
    result = factorial(5)
    print(f"Factorial of 5 is: {result}\n")

    print("List Demo:")
    list_total = list_demo()
    print()

    # Dictionary demo
    print("Dictionary Demo:")
    student_info = dict_demo()
    print()

    print("=== Program Complete ===")


if __name__ == "__main__":
    main()
```

</textarea>
<script>
  // Create slideshow with scroll navigation disabled
  var slideshow = remark.create({
    navigation: {
      scroll: false  // Disable scroll to change slides
    }
  });

  // Add copy buttons to code blocks after slides are created
  slideshow.on('afterShowSlide', function (slide) {
    addCopyButtons();
  });

  function addCopyButtons() {
    // Target the pre elements that contain code
    const codeBlocks = document.querySelectorAll('.remark-slide-content pre');

    codeBlocks.forEach(function(pre) {
      // Check if button already exists
      if (pre.querySelector('.copy-button')) {
        return;
      }

      const button = document.createElement('button');
      button.className = 'copy-button';
      button.innerHTML = 'ðŸ“‹'; // Copy icon
      button.title = 'Copy code';

      button.addEventListener('click', function(e) {
        e.stopPropagation();
        const code = pre.querySelector('code');
        const text = code ? code.innerText : pre.innerText;

        navigator.clipboard.writeText(text).then(function() {
          button.innerHTML = 'âœ“';
          button.classList.add('copied');

          setTimeout(function() {
            button.innerHTML = 'ðŸ“‹';
            button.classList.remove('copied');
          }, 2000);
        }).catch(function(err) {
          console.error('Failed to copy:', err);
          button.innerHTML = 'âœ—';
          setTimeout(function() {
            button.innerHTML = 'ðŸ“‹';
          }, 2000);
        });
      });

      pre.style.position = 'relative';
      pre.appendChild(button);
    });
  }

  // Initial call with longer delay to ensure slides are loaded
  setTimeout(addCopyButtons, 500);
</script>
</body>
</html>
